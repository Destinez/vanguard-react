{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Documents\\\\code\\\\Digital Switch\\\\AAM-Templates\\\\aam-volt\\\\src\\\\pages\\\\examples\\\\Signin.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, faEnvelope, faUnlockAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { faFacebookF, faGithub, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { Col, Row, Form, Card, Button, FormCheck, Container, InputGroup } from '@themesberg/react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { Routes } from \"../../routes\";\nimport BgImage from \"../../assets/img/illustrations/signin.svg\";\nimport setAuthToken from '../validation/authAuthToken';\n\nconst axios = require('axios').default;\n\nexport default (() => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [errorClass, setErrorClass] = useState(\"\");\n  let token = localStorage.getItem(\"token\");\n  const UserContext = createContext({\n    name: '',\n    auth: false\n  });\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let user = {\n      email: email,\n      password: password\n    };\n    axios({\n      method: 'post',\n      url: `${process.env.REACT_APP_SERVER_URL}/api/login`,\n      data: user,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (response) {\n      let res = response.data;\n\n      if (res.status === true && res.code === 200) {\n        setMessage('Login Successful');\n        setErrorClass('text-white bg-success rounded-1 my-2 px-2');\n        let token = res.data.token; //set JWT token to local\n\n        localStorage.setItem(\"token\", token); //set token to axios common header\n\n        setAuthToken(token);\n        console.log(token); //redirect user to home page\n\n        window.location.href = '/';\n      } else if (res.status === false && res.code === 422) {\n        if (res.errors.password) {\n          setMessage(res.errors.password[0]);\n        }\n\n        if (res.errors.email) {\n          setMessage(res.errors.email[0]);\n        }\n\n        setErrorClass(\"text-white bg-danger rounded-1 my-2 px-2\");\n      } else if (res.status === false && res.code === 423) {\n        setMessage(\"Email or Password is incorrect\");\n        setErrorClass(\"text-white bg-danger rounded-1 my-2 px-2\");\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"d-flex align-items-center my-5 mt-lg-6 mb-lg-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card.Link, {\n    as: Link,\n    to: Routes.DashboardOverview.path,\n    className: \"text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faAngleLeft,\n    className: \"me-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }), \" Back to homepage\")), /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-center form-bg-image\",\n    style: {\n      backgroundImage: `url(${BgImage})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    className: \"d-flex align-items-center justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center text-md-center mb-4 mt-md-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 19\n    }\n  }, \"Sign in to our platform\")), /*#__PURE__*/React.createElement(Form, {\n    className: \"mt-4\",\n    method: \"post\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    id: \"email\",\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, \"Your Email\"), /*#__PURE__*/React.createElement(InputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faEnvelope,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Control, {\n    autoFocus: true,\n    required: true,\n    type: \"email\",\n    placeholder: \"Enter your Email\",\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    id: \"password\",\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 23\n    }\n  }, \"Your Password\"), /*#__PURE__*/React.createElement(InputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faUnlockAlt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(Form.Control, {\n    required: true,\n    type: \"password\",\n    placeholder: \"Enter your Password\",\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between align-items-center mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Check, {\n    type: \"checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(FormCheck.Input, {\n    id: \"defaultCheck5\",\n    className: \"me-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(FormCheck.Label, {\n    htmlFor: \"defaultCheck5\",\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 25\n    }\n  }, \"Remember me\")), /*#__PURE__*/React.createElement(Card.Link, {\n    className: \"small text-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 23\n    }\n  }, \"Lost password?\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: errorClass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  }, message), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    className: \"w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 19\n    }\n  }, \"Sign in\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center align-items-center mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fw-normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, \"Not registered?\", /*#__PURE__*/React.createElement(Card.Link, {\n    as: Link,\n    to: Routes.Signup.path,\n    className: \"fw-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, ` Create account `)))))))));\n});","map":{"version":3,"sources":["C:/Users/HP/Documents/code/Digital Switch/AAM-Templates/aam-volt/src/pages/examples/Signin.js"],"names":["React","useState","useEffect","FontAwesomeIcon","faAngleLeft","faEnvelope","faUnlockAlt","faFacebookF","faGithub","faTwitter","Col","Row","Form","Card","Button","FormCheck","Container","InputGroup","Link","Routes","setAuthToken","axios","require","default","email","setEmail","password","setPassword","message","setMessage","errorClass","setErrorClass","token","localStorage","getItem","UserContext","createContext","name","auth","handleSubmit","e","preventDefault","user","method","url","process","env","REACT_APP_SERVER_URL","data","headers","then","response","res","status","code","setItem","console","log","window","location","href","errors","catch","error","DashboardOverview","path","backgroundImage","BgImage","target","value","Signup"],"mappings":"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","sourcesContent":["\nimport React, {useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, faEnvelope, faUnlockAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { faFacebookF, faGithub, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { Col, Row, Form, Card, Button, FormCheck, Container, InputGroup } from '@themesberg/react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nimport { Routes } from \"../../routes\";\nimport BgImage from \"../../assets/img/illustrations/signin.svg\";\nimport setAuthToken from '../validation/authAuthToken';\nconst axios = require('axios').default;\n\nexport default () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [errorClass, setErrorClass] = useState(\"\");\n\n  let token = localStorage.getItem(\"token\");\n\n  const UserContext = createContext({ name: '', auth: false });\n\n\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    let user = {\n      email: email,\n      password: password\n    }\n\n    axios({\n      method: 'post',\n      url: `${process.env.REACT_APP_SERVER_URL}/api/login`,\n      data: user,\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    })\n\n\n      .then(function (response) {\n        let res = response.data\n\n        if (res.status === true && res.code === 200) {\n\n          setMessage('Login Successful')\n          setErrorClass('text-white bg-success rounded-1 my-2 px-2')\n\n          let token = res.data.token\n\n          //set JWT token to local\n          localStorage.setItem(\"token\", token);\n\n          //set token to axios common header\n          setAuthToken(token);\n\n          console.log(token)\n\n          //redirect user to home page\n          window.location.href = '/'\n        }\n\n        else if (res.status === false && res.code === 422) {\n\n          if (res.errors.password) {\n            setMessage(res.errors.password[0])\n          }\n\n          if (res.errors.email) {\n            setMessage(res.errors.email[0])\n          }\n\n          setErrorClass(\"text-white bg-danger rounded-1 my-2 px-2\")\n        }\n\n        else if (res.status === false && res.code === 423) {\n          setMessage(\"Email or Password is incorrect\")\n          setErrorClass(\"text-white bg-danger rounded-1 my-2 px-2\")\n        }\n\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n\n  }\n  return (\n    <main>\n      <section className=\"d-flex align-items-center my-5 mt-lg-6 mb-lg-5\">\n        <Container>\n          <p className=\"text-center\">\n            <Card.Link as={Link} to={Routes.DashboardOverview.path} className=\"text-gray-700\">\n              <FontAwesomeIcon icon={faAngleLeft} className=\"me-2\" /> Back to homepage\n            </Card.Link>\n          </p>\n          <Row className=\"justify-content-center form-bg-image\" style={{ backgroundImage: `url(${BgImage})` }}>\n            <Col xs={12} className=\"d-flex align-items-center justify-content-center\">\n              <div className=\"bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\">\n                <div className=\"text-center text-md-center mb-4 mt-md-0\">\n                  <h3 className=\"mb-0\">Sign in to our platform</h3>\n                </div>\n                <Form className=\"mt-4\" method=\"post\" onSubmit={handleSubmit}>\n                  <Form.Group id=\"email\" className=\"mb-4\">\n                    <Form.Label>Your Email</Form.Label>\n                    <InputGroup>\n                      <InputGroup.Text>\n                        <FontAwesomeIcon icon={faEnvelope} />\n                      </InputGroup.Text>\n                      <Form.Control autoFocus required type=\"email\" placeholder=\"Enter your Email\" onChange={e => setEmail(e.target.value)} />\n                    </InputGroup>\n                  </Form.Group>\n                  <Form.Group>\n                    <Form.Group id=\"password\" className=\"mb-4\">\n                      <Form.Label>Your Password</Form.Label>\n                      <InputGroup>\n                        <InputGroup.Text>\n                          <FontAwesomeIcon icon={faUnlockAlt} />\n                        </InputGroup.Text>\n                        <Form.Control required type=\"password\" placeholder=\"Enter your Password\" onChange={e => setPassword(e.target.value)} />\n                      </InputGroup>\n                    </Form.Group>\n                    <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                      <Form.Check type=\"checkbox\">\n                        <FormCheck.Input id=\"defaultCheck5\" className=\"me-2\" />\n                        <FormCheck.Label htmlFor=\"defaultCheck5\" className=\"mb-0\">Remember me</FormCheck.Label>\n                      </Form.Check>\n                      <Card.Link className=\"small text-end\">Lost password?</Card.Link>\n                    </div>\n                  </Form.Group>\n                  <div className={ errorClass }>{ message }</div>\n                  <Button variant=\"primary\" type=\"submit\" className=\"w-100\">\n                    Sign in\n                  </Button>\n                </Form>\n                <div className=\"d-flex justify-content-center align-items-center mt-4\">\n                  <span className=\"fw-normal\">\n                    Not registered?\n                    <Card.Link as={Link} to={Routes.Signup.path} className=\"fw-bold\">\n                      {` Create account `}\n                    </Card.Link>\n                  </span>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </section>\n    </main>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}