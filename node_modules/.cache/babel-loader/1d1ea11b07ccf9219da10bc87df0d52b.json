{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\HP\\\\Documents\\\\code\\\\Digital Switch\\\\AAM-Templates\\\\aam-volt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\HP\\\\Documents\\\\code\\\\Digital Switch\\\\AAM-Templates\\\\aam-volt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\HP\\\\Documents\\\\code\\\\Digital Switch\\\\AAM-Templates\\\\aam-volt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from\"react\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faAngleLeft}from\"@fortawesome/free-solid-svg-icons\";import{Col,Row,Form,Card,Button,Container,InputGroup}from'@themesberg/react-bootstrap';import{Link}from'react-router-dom';import{Routes}from\"../../routes\";import setAuthToken from'../validation/authAuthToken';var axios=require('axios').default;export default(function(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),errorClass=_useState6[0],setErrorClass=_useState6[1];var token=localStorage.getItem(\"token\");var submitForgotPassword=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data,response,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();data={email:email};_context.prev=2;_context.next=5;return axios.post(\"\".concat(process.env.REACT_APP_SERVER_URL,\"/api/forget-password\"),data,{headers:{'authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});case 5:response=_context.sent;res=response.data;console.log(res);if(res.status===false&&res.code===422){setMessage(res.errors.email[0]);setErrorClass('text-white bg-danger rounded-1 my-2 px-2');}else if(res.status===false&&res.code===423){setMessage(res.message);setErrorClass('text-white bg-danger rounded-1 my-2 px-2');}else if(res.status===true&&res.code===200){setMessage(res.message);setErrorClass('text-white bg-success rounded-1 my-2 px-2');}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);console.error(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,11]]);}));return function submitForgotPassword(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"section\",{className:\"vh-lg-100 mt-4 mt-lg-0 bg-soft d-flex align-items-center\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Card.Link,{as:Link,to:Routes.Signin.path,className:\"text-gray-700\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faAngleLeft,className:\"me-2\"}),\" Back to sign in\")),/*#__PURE__*/React.createElement(Col,{xs:12,className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"signin-inner my-3 my-lg-0 bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Forgot your password?\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-4\"},\"Type in your email and we will send you a code to reset your password!\"),/*#__PURE__*/React.createElement(Form,{method:\"post\",onSubmit:submitForgotPassword},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"},/*#__PURE__*/React.createElement(Form.Label,{htmlFor:\"email\"},\"Your Email\"),/*#__PURE__*/React.createElement(InputGroup,{id:\"email\"},/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"email\",placeholder:\"Enter Email\",onChange:function onChange(e){return setEmail(e.target.value);}}))),/*#__PURE__*/React.createElement(\"div\",{className:errorClass},message),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\",className:\"w-100\"},\"Recover password\"))))))));});","map":{"version":3,"sources":["C:/Users/HP/Documents/code/Digital Switch/AAM-Templates/aam-volt/src/pages/examples/ForgotPassword.js"],"names":["React","useState","useEffect","useContext","FontAwesomeIcon","faAngleLeft","Col","Row","Form","Card","Button","Container","InputGroup","Link","Routes","setAuthToken","axios","require","default","email","setEmail","message","setMessage","errorClass","setErrorClass","token","localStorage","getItem","submitForgotPassword","e","preventDefault","data","post","process","env","REACT_APP_SERVER_URL","headers","response","res","console","log","status","code","errors","error","Signin","path","target","value"],"mappings":"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","sourcesContent":["\nimport React, {useState, useEffect, useContext } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { Col, Row, Form, Card, Button, Container, InputGroup } from '@themesberg/react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nimport { Routes } from \"../../routes\";\nimport setAuthToken from '../validation/authAuthToken';\nconst axios = require('axios').default;\n\n\n\nexport default () => {\n\n  const [email, setEmail] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [errorClass, setErrorClass] = useState(\"\");\n\n  let token = localStorage.getItem(\"token\");\n\n  let submitForgotPassword = async (e) => {\n\n    e.preventDefault()\n\n    let data = {\n      email: email\n    }\n\n    try {\n        const response = await axios.post(`${process.env.REACT_APP_SERVER_URL}/api/forget-password`, data, {\n            headers: {\n                'authorization': `Bearer ${token}`,\n                'Content-Type': 'application/json'\n            }\n        })\n\n        let res = response.data\n        console.log(res)\n\n        if (res.status === false && res.code === 422) {\n            setMessage(res.errors.email[0])\n            setErrorClass('text-white bg-danger rounded-1 my-2 px-2')\n        }\n        else if (res.status === false && res.code === 423) {\n            setMessage(res.message)\n            setErrorClass('text-white bg-danger rounded-1 my-2 px-2')\n        }\n        else if (res.status === true && res.code === 200){\n          setMessage(res.message)\n          setErrorClass('text-white bg-success rounded-1 my-2 px-2')\n        }\n    } catch (err) {\n        console.error(err);\n    }\n}\n  \n  return (\n    <main>\n      <section className=\"vh-lg-100 mt-4 mt-lg-0 bg-soft d-flex align-items-center\">\n        <Container>\n          <Row className=\"justify-content-center\">\n            <p className=\"text-center\">\n              <Card.Link as={Link} to={Routes.Signin.path} className=\"text-gray-700\">\n                <FontAwesomeIcon icon={faAngleLeft} className=\"me-2\" /> Back to sign in\n            </Card.Link>\n            </p>\n            <Col xs={12} className=\"d-flex align-items-center justify-content-center\">\n              <div className=\"signin-inner my-3 my-lg-0 bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\">\n                <h3>Forgot your password?</h3>\n                <p className=\"mb-4\">Type in your email and we will send you a code to reset your password!</p>\n                <Form method=\"post\" onSubmit={submitForgotPassword}>\n                  <div className=\"mb-4\">\n                    <Form.Label htmlFor=\"email\">Your Email</Form.Label>\n                    <InputGroup id=\"email\">\n                      <Form.Control required type=\"email\" placeholder=\"Enter Email\" onChange={e => setEmail(e.target.value)} />\n                    </InputGroup>\n                  </div>\n                  <div className={ errorClass }>{ message }</div>\n                  <Button variant=\"primary\" type=\"submit\" className=\"w-100\">\n                    Recover password\n                  </Button>\n                </Form>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </section>\n    </main>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}