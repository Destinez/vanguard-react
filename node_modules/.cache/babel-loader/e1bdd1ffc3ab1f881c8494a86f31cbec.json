{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\HP\\\\Documents\\\\code\\\\Digital Switch\\\\AAM-Templates\\\\aam-volt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\HP\\\\Documents\\\\code\\\\Digital Switch\\\\AAM-Templates\\\\aam-volt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\HP\\\\Documents\\\\code\\\\Digital Switch\\\\AAM-Templates\\\\aam-volt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\HP\\\\Documents\\\\code\\\\Digital Switch\\\\AAM-Templates\\\\aam-volt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faBell,faCog,faEnvelopeOpen,faSearch,faSignOutAlt,faUserShield}from\"@fortawesome/free-solid-svg-icons\";import{faUserCircle}from\"@fortawesome/free-regular-svg-icons\";import{Row,Col,Nav,Form,Image,Navbar,Dropdown,Container,ListGroup,InputGroup}from'@themesberg/react-bootstrap';import NOTIFICATIONS_DATA from\"../data/notifications\";import Profile3 from\"../assets/img/team/profile-picture-3.jpg\";import{UserContext}from\"../pages/validation/UserContext\";var axios=require('axios').default;export default(function(props){var user=useContext(UserContext);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),profile=_useState2[0],setProfile=_useState2[1];var _useState3=useState(NOTIFICATIONS_DATA),_useState4=_slicedToArray(_useState3,2),notifications=_useState4[0],setNotifications=_useState4[1];var areNotificationsRead=notifications.reduce(function(acc,notif){return acc&&notif.read;},true);var token=localStorage.getItem(\"token\");useEffect(function(){fetchProfile(token);},[]);var fetchProfile=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(token){var response,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_SERVER_URL,\"/api/profile\"),{headers:{'authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});case 3:response=_context.sent;res=response.data;if(res.status===true&&res.code===200){setProfile(res.data);console.log(res.data);}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchProfile(_x){return _ref.apply(this,arguments);};}();var markNotificationsAsRead=function markNotificationsAsRead(){setTimeout(function(){setNotifications(notifications.map(function(n){return _objectSpread(_objectSpread({},n),{},{read:true});}));},300);};var Notification=function Notification(props){var link=props.link,sender=props.sender,image=props.image,time=props.time,message=props.message,_props$read=props.read,read=_props$read===void 0?false:_props$read;var readClassName=read?\"\":\"text-danger\";return/*#__PURE__*/React.createElement(ListGroup.Item,{action:true,href:link,className:\"border-bottom border-light\"},/*#__PURE__*/React.createElement(Row,{className:\"align-items-center\"},/*#__PURE__*/React.createElement(Col,{className:\"col-auto\"},/*#__PURE__*/React.createElement(Image,{src:image,className:\"user-avatar lg-avatar rounded-circle\"})),/*#__PURE__*/React.createElement(Col,{className:\"ps-0 ms--2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between align-items-center\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h4\",{className:\"h6 mb-0 text-small\"},sender)),/*#__PURE__*/React.createElement(\"div\",{className:\"text-end\"},/*#__PURE__*/React.createElement(\"small\",{className:readClassName},time))),/*#__PURE__*/React.createElement(\"p\",{className:\"font-small mt-1 mb-0\"},message))));};return/*#__PURE__*/React.createElement(Navbar,{variant:\"dark\",expanded:true,className:\"ps-0 pe-2 mb-3 bg-dark sticky-header\"},/*#__PURE__*/React.createElement(Container,{fluid:true,className:\"px-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between w-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(Form,{className:\"navbar-search\"})),/*#__PURE__*/React.createElement(Nav,{className:\"align-items-center\"},/*#__PURE__*/React.createElement(\"div\",null,user),/*#__PURE__*/React.createElement(Nav.Item,{className:\"mr-2\"},\"Balance: $\",profile.wallet_balance),/*#__PURE__*/React.createElement(Dropdown,{as:Nav.Item},/*#__PURE__*/React.createElement(Dropdown.Toggle,{className:\"pt-1 px-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"media d-flex align-items-center\"},/*#__PURE__*/React.createElement(Image,{src:Profile3,className:\"user-avatar md-avatar rounded-circle\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"media-body ms-2 text-dark align-items-center d-none d-lg-block\"}))),/*#__PURE__*/React.createElement(Dropdown.Menu,{className:\"user-dropdown dropdown-menu-right mt-2\"},/*#__PURE__*/React.createElement(Dropdown.Item,{as:Link,to:\"/account/profile\",className:\"fw-bold\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUserCircle,className:\"me-2\"}),\"My Profile\"),/*#__PURE__*/React.createElement(Dropdown.Item,{as:Link,to:\"/account/change-password\",className:\"fw-bold\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCog,className:\"me-2\"}),\"Change Password\"),/*#__PURE__*/React.createElement(Dropdown.Divider,null),/*#__PURE__*/React.createElement(Dropdown.Item,{as:Link,to:\"/logout\",className:\"fw-bold\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSignOutAlt,className:\"text-danger me-2\"}),\"Logout\")))))));});","map":{"version":3,"sources":["C:/Users/HP/Documents/code/Digital Switch/AAM-Templates/aam-volt/src/components/Navbar.js"],"names":["React","useState","useContext","useEffect","Link","FontAwesomeIcon","faBell","faCog","faEnvelopeOpen","faSearch","faSignOutAlt","faUserShield","faUserCircle","Row","Col","Nav","Form","Image","Navbar","Dropdown","Container","ListGroup","InputGroup","NOTIFICATIONS_DATA","Profile3","UserContext","axios","require","default","props","user","profile","setProfile","notifications","setNotifications","areNotificationsRead","reduce","acc","notif","read","token","localStorage","getItem","fetchProfile","get","process","env","REACT_APP_SERVER_URL","headers","response","res","data","status","code","console","log","error","markNotificationsAsRead","setTimeout","map","n","Notification","link","sender","image","time","message","readClassName","wallet_balance","Item"],"mappings":"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","sourcesContent":["\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBell, faCog, faEnvelopeOpen, faSearch, faSignOutAlt, faUserShield } from \"@fortawesome/free-solid-svg-icons\";\nimport { faUserCircle } from \"@fortawesome/free-regular-svg-icons\";\nimport { Row, Col, Nav, Form, Image, Navbar, Dropdown, Container, ListGroup, InputGroup } from '@themesberg/react-bootstrap';\n\nimport NOTIFICATIONS_DATA from \"../data/notifications\";\nimport Profile3 from \"../assets/img/team/profile-picture-3.jpg\";\n\nimport { UserContext } from \"../pages/validation/UserContext\"\nconst axios = require('axios').default;\n\n\n\nexport default (props) => {\n  const user = useContext(UserContext)\n  const [profile, setProfile] = useState([])\n\n\n  const [notifications, setNotifications] = useState(NOTIFICATIONS_DATA);\n  const areNotificationsRead = notifications.reduce((acc, notif) => acc && notif.read, true);\n\n  let token = localStorage.getItem(\"token\");\n  useEffect(() => {\n    fetchProfile(token)\n  }, [])\n\n  let fetchProfile = async (token) => {\n\n    try {\n      const response = await axios.get(`${process.env.REACT_APP_SERVER_URL}/api/profile`, {\n        headers: {\n          'authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      })\n\n      let res = response.data\n\n      if (res.status === true && res.code === 200) {\n        setProfile(res.data)\n        console.log(res.data)\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n\n  const markNotificationsAsRead = () => {\n    setTimeout(() => {\n      setNotifications(notifications.map(n => ({ ...n, read: true })));\n    }, 300);\n  };\n\n\n  const Notification = (props) => {\n    const { link, sender, image, time, message, read = false } = props;\n    const readClassName = read ? \"\" : \"text-danger\";\n\n    return (\n      <ListGroup.Item action href={link} className=\"border-bottom border-light\">\n        <Row className=\"align-items-center\">\n          <Col className=\"col-auto\">\n            <Image src={image} className=\"user-avatar lg-avatar rounded-circle\" />\n          </Col>\n          <Col className=\"ps-0 ms--2\">\n            <div className=\"d-flex justify-content-between align-items-center\">\n              <div>\n                <h4 className=\"h6 mb-0 text-small\">{sender}</h4>\n              </div>\n              <div className=\"text-end\">\n                <small className={readClassName}>{time}</small>\n              </div>\n            </div>\n            <p className=\"font-small mt-1 mb-0\">{message}</p>\n          </Col>\n        </Row>\n      </ListGroup.Item>\n    );\n  };\n\n  return (\n    <Navbar variant=\"dark\" expanded className=\"ps-0 pe-2 mb-3 bg-dark sticky-header\">\n      <Container fluid className=\"px-0\">\n        <div className=\"d-flex justify-content-between w-100\">\n          <div className=\"d-flex align-items-center\">\n            <Form className=\"navbar-search\">\n            </Form>\n          </div>\n          <Nav className=\"align-items-center\">\n            <div>\n              {user}\n            </div>\n\n            <Nav.Item className=\"mr-2\">\n              Balance: ${profile.wallet_balance}\n            </Nav.Item>\n\n            <Dropdown as={Nav.Item}>\n              <Dropdown.Toggle className=\"pt-1 px-0\">\n                <div className=\"media d-flex align-items-center\">\n                  <Image src={Profile3} className=\"user-avatar md-avatar rounded-circle\" />\n                  <div className=\"media-body ms-2 text-dark align-items-center d-none d-lg-block\">\n\n                  </div>\n                </div>\n              </Dropdown.Toggle>\n              <Dropdown.Menu className=\"user-dropdown dropdown-menu-right mt-2\">\n                <Dropdown.Item as={Link} to=\"/account/profile\" className=\"fw-bold\">\n                  <FontAwesomeIcon icon={faUserCircle} className=\"me-2\" />My Profile\n\n                </Dropdown.Item>\n\n                <Dropdown.Item as={Link} to=\"/account/change-password\" className=\"fw-bold\">\n\n                  <FontAwesomeIcon icon={faCog} className=\"me-2\" />Change Password\n                </Dropdown.Item>\n\n                <Dropdown.Divider />\n\n                <Dropdown.Item as={Link} to=\"/logout\" className=\"fw-bold\">\n                  <FontAwesomeIcon icon={faSignOutAlt} className=\"text-danger me-2\" />Logout\n                </Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n          </Nav>\n        </div>\n      </Container>\n    </Navbar>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}