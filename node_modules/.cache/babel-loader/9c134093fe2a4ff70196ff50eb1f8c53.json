{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\HP\\\\Documents\\\\code\\\\Digital Switch\\\\AAM-Templates\\\\aam-volt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from\"react\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faAngleLeft,faEnvelope,faUnlockAlt}from\"@fortawesome/free-solid-svg-icons\";import{faFacebookF,faGithub,faTwitter}from\"@fortawesome/free-brands-svg-icons\";import{Col,Row,Form,Card,Button,FormCheck,Container,InputGroup}from'@themesberg/react-bootstrap';import{Link}from'react-router-dom';import{Routes}from\"../../routes\";import BgImage from\"../../assets/img/illustrations/signin.svg\";import{UserContext}from'../validation/UserContext';import setAuthToken from'../validation/authAuthToken';var axios=require('axios').default;export default(function(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),errorClass=_useState8[0],setErrorClass=_useState8[1];var token=localStorage.getItem(\"token\");// const [user, setUser] = useContext(UserContext);\nvar handleSubmit=function handleSubmit(e){e.preventDefault();var user={email:email,password:password};axios({method:'post',url:\"\".concat(process.env.REACT_APP_SERVER_URL,\"/api/login\"),data:user,headers:{'Content-Type':'application/json'}}).then(function(response){var res=response.data;if(res.status===true&&res.code===200){setMessage('Login Successful');setErrorClass('text-white bg-success rounded-1 my-2 px-2');var _token=res.data.token;//set JWT token to local\nlocalStorage.setItem(\"token\",_token);//set token to axios common header\nsetAuthToken(_token);// setUser(email)\n//redirect user to home page\nwindow.location.href='/dashboard';}else if(res.status===false&&res.code===422){if(res.errors.password){setMessage(res.errors.password[0]);}if(res.errors.email){setMessage(res.errors.email[0]);}setErrorClass(\"text-white bg-danger rounded-1 my-2 px-2\");}else if(res.status===false&&res.code===423){setMessage(\"Email or Password is incorrect\");setErrorClass(\"text-white bg-danger rounded-1 my-2 px-2\");}}).catch(function(error){console.log(error);});};return/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"section\",{className:\"d-flex align-items-center my-5 mt-lg-6 mb-lg-5\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"p\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Card.Link,{as:Link,to:Routes.DashboardOverview.path,className:\"text-gray-700\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faAngleLeft,className:\"me-2\"}),\" Back to homepage\")),/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center form-bg-image\",style:{backgroundImage:\"url(\".concat(BgImage,\")\")}},/*#__PURE__*/React.createElement(Col,{xs:12,className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center text-md-center mb-4 mt-md-0\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-0\"},\"Sign in to our platform\")),/*#__PURE__*/React.createElement(Form,{className:\"mt-4\",method:\"post\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Form.Group,{id:\"email\",className:\"mb-4\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Your Email\"),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(InputGroup.Text,null,/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEnvelope})),/*#__PURE__*/React.createElement(Form.Control,{autoFocus:true,required:true,type:\"email\",placeholder:\"Enter your Email\",onChange:function onChange(e){return setEmail(e.target.value);}}))),/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Group,{id:\"password\",className:\"mb-4\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Your Password\"),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(InputGroup.Text,null,/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUnlockAlt})),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"password\",placeholder:\"Enter your Password\",onChange:function onChange(e){return setPassword(e.target.value);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\"},/*#__PURE__*/React.createElement(Form.Check,{type:\"checkbox\"},/*#__PURE__*/React.createElement(FormCheck.Input,{id:\"defaultCheck5\",className:\"me-2\"}),/*#__PURE__*/React.createElement(FormCheck.Label,{htmlFor:\"defaultCheck5\",className:\"mb-0\"},\"Remember me\")),/*#__PURE__*/React.createElement(Card.Link,{as:Link,to:\"/forgot-password\",className:\"small text-end\"},\"Lost password?\"))),/*#__PURE__*/React.createElement(\"div\",{className:errorClass},message),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\",className:\"w-100\"},\"Sign in\")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center align-items-center mt-4\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fw-normal\"},\"Not registered?\",/*#__PURE__*/React.createElement(Card.Link,{as:Link,to:Routes.Signup.path,className:\"fw-bold\"},\" Create account \")))))))));});","map":{"version":3,"sources":["C:/Users/HP/Documents/code/Digital Switch/AAM-Templates/aam-volt/src/pages/examples/Signin.js"],"names":["React","useState","useEffect","useContext","FontAwesomeIcon","faAngleLeft","faEnvelope","faUnlockAlt","faFacebookF","faGithub","faTwitter","Col","Row","Form","Card","Button","FormCheck","Container","InputGroup","Link","Routes","UserContext","setAuthToken","axios","require","default","email","setEmail","password","setPassword","message","setMessage","errorClass","setErrorClass","token","localStorage","getItem","handleSubmit","e","preventDefault","user","method","url","process","env","REACT_APP_SERVER_URL","data","headers","then","response","res","status","code","setItem","window","location","href","errors","catch","error","console","log","DashboardOverview","path","backgroundImage","BgImage","target","value","Signup"],"mappings":"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","sourcesContent":["\nimport React, {useState, useEffect, useContext } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, faEnvelope, faUnlockAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { faFacebookF, faGithub, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { Col, Row, Form, Card, Button, FormCheck, Container, InputGroup } from '@themesberg/react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nimport { Routes } from \"../../routes\";\nimport BgImage from \"../../assets/img/illustrations/signin.svg\";\n\nimport { UserContext } from '../validation/UserContext';\nimport setAuthToken from '../validation/authAuthToken';\nconst axios = require('axios').default;\n\nexport default () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [errorClass, setErrorClass] = useState(\"\");\n\n  let token = localStorage.getItem(\"token\");\n\n  // const [user, setUser] = useContext(UserContext);\n\n\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    let user = {\n      email: email,\n      password: password\n    }\n\n    axios({\n      method: 'post',\n      url: `${process.env.REACT_APP_SERVER_URL}/api/login`,\n      data: user,\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    })\n\n\n      .then(function (response) {\n        let res = response.data\n\n        if (res.status === true && res.code === 200) {\n\n\n\n          setMessage('Login Successful')\n          setErrorClass('text-white bg-success rounded-1 my-2 px-2')\n\n          let token = res.data.token\n\n          //set JWT token to local\n          localStorage.setItem(\"token\", token);\n\n          //set token to axios common header\n          setAuthToken(token);\n\n          // setUser(email)\n\n\n          //redirect user to home page\n          window.location.href = '/dashboard'\n        }\n\n        else if (res.status === false && res.code === 422) {\n\n          if (res.errors.password) {\n            setMessage(res.errors.password[0])\n          }\n\n          if (res.errors.email) {\n            setMessage(res.errors.email[0])\n          }\n\n          setErrorClass(\"text-white bg-danger rounded-1 my-2 px-2\")\n        }\n\n        else if (res.status === false && res.code === 423) {\n          setMessage(\"Email or Password is incorrect\")\n          setErrorClass(\"text-white bg-danger rounded-1 my-2 px-2\")\n        }\n\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n\n  }\n  return (\n    <main>\n      <section className=\"d-flex align-items-center my-5 mt-lg-6 mb-lg-5\">\n        <Container>\n          <p className=\"text-center\">\n            <Card.Link as={Link} to={Routes.DashboardOverview.path} className=\"text-gray-700\">\n              <FontAwesomeIcon icon={faAngleLeft} className=\"me-2\" /> Back to homepage\n            </Card.Link>\n          </p>\n          <Row className=\"justify-content-center form-bg-image\" style={{ backgroundImage: `url(${BgImage})` }}>\n            <Col xs={12} className=\"d-flex align-items-center justify-content-center\">\n              <div className=\"bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\">\n                <div className=\"text-center text-md-center mb-4 mt-md-0\">\n                  <h3 className=\"mb-0\">Sign in to our platform</h3>\n                </div>\n                <Form className=\"mt-4\" method=\"post\" onSubmit={handleSubmit}>\n                  <Form.Group id=\"email\" className=\"mb-4\">\n                    <Form.Label>Your Email</Form.Label>\n                    <InputGroup>\n                      <InputGroup.Text>\n                        <FontAwesomeIcon icon={faEnvelope} />\n                      </InputGroup.Text>\n                      <Form.Control autoFocus required type=\"email\" placeholder=\"Enter your Email\" onChange={e => setEmail(e.target.value)} />\n                    </InputGroup>\n                  </Form.Group>\n                  <Form.Group>\n                    <Form.Group id=\"password\" className=\"mb-4\">\n                      <Form.Label>Your Password</Form.Label>\n                      <InputGroup>\n                        <InputGroup.Text>\n                          <FontAwesomeIcon icon={faUnlockAlt} />\n                        </InputGroup.Text>\n                        <Form.Control required type=\"password\" placeholder=\"Enter your Password\" onChange={e => setPassword(e.target.value)} />\n                      </InputGroup>\n                    </Form.Group>\n                    <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                      <Form.Check type=\"checkbox\">\n                        <FormCheck.Input id=\"defaultCheck5\" className=\"me-2\" />\n                        <FormCheck.Label htmlFor=\"defaultCheck5\" className=\"mb-0\">Remember me</FormCheck.Label>\n                      </Form.Check>\n                      <Card.Link as={Link} to=\"/forgot-password\" className=\"small text-end\">Lost password?</Card.Link>\n                    </div>\n                  </Form.Group>\n                  <div className={ errorClass }>{ message }</div>\n                  <Button variant=\"primary\" type=\"submit\" className=\"w-100\">\n                    Sign in\n                  </Button>\n                </Form>\n                <div className=\"d-flex justify-content-center align-items-center mt-4\">\n                  <span className=\"fw-normal\">\n                    Not registered?\n                    <Card.Link as={Link} to={Routes.Signup.path} className=\"fw-bold\">\n                      {` Create account `}\n                    </Card.Link>\n                  </span>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </section>\n    </main>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}