{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\HP\\\\Documents\\\\code\\\\Digital Switch\\\\AAM-Templates\\\\aam-volt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\HP\\\\Documents\\\\code\\\\Digital Switch\\\\AAM-Templates\\\\aam-volt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\HP\\\\Documents\\\\code\\\\Digital Switch\\\\AAM-Templates\\\\aam-volt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from\"react\";import{Link}from\"react-router-dom\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCashRegister,faChartLine,faCloudUploadAlt,faPlus,faRocket,faTasks,faUserShield}from'@fortawesome/free-solid-svg-icons';import{CounterWidget,CircleChartWidget,BarChartWidget,TeamMembersWidget,ProgressTrackWidget,RankingWidget,SalesValueWidget,SalesValueWidgetPhone,AcquisitionWidget}from\"../../components/Widgets\";import{Col,Row,Card}from'@themesberg/react-bootstrap';import{UserContext}from\"../validation/UserContext\";import setAuthToken from\"../validation/authAuthToken\";var axios=require('axios').default;export default(function(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),link=_useState2[0],setLink=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),currentInvestment=_useState4[0],setCurrentInvestment=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),profile=_useState6[0],setProfile=_useState6[1];// let temp = useContext(UserContext)\n// console.log(temp)\nuseEffect(function(){var script=document.createElement('script');script.src='https://s3.tradingview.com/external-embedding/embed-widget-screener.js';script.async=true;script.innerHTML=JSON.stringify({\"width\":\"100%\",\"height\":\"490\",\"defaultColumn\":\"overview\",\"screener_type\":\"crypto_mkt\",\"displayCurrency\":\"USD\",\"colorTheme\":\"light\",\"locale\":\"en\"});document.getElementById(\"trading-view\").appendChild(script);},[]);useEffect(function(){var token=localStorage.getItem(\"token\");setAuthToken(token);fetchCurrentInvestment(token);fetchProfile(token);},[]);var fetchCurrentInvestment=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(token){var response,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_SERVER_URL,\"/api/current-investment\"),{headers:{'authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});case 3:response=_context.sent;res=response.data;if(res.status===true&&res.code===200){setCurrentInvestment(res.data);console.log(res.data);}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchCurrentInvestment(_x){return _ref.apply(this,arguments);};}();var fetchProfile=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(token){var response,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"\".concat(process.env.REACT_APP_SERVER_URL,\"/api/profile\"),{headers:{'authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});case 3:response=_context2.sent;res=response.data;if(res.status===true&&res.code===200){setProfile(res.data);console.log(res.data);}_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function fetchProfile(_x2){return _ref2.apply(this,arguments);};}();var handleReferralCopy=function handleReferralCopy(e){e.preventDefault();navigator.clipboard.writeText(link);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"justify-content-md-center\"},/*#__PURE__*/React.createElement(Col,{xs:12,sm:12,xl:12,className:\"mb-4\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-success\"},\"Welcome to Vangaurd Investments - your personal client area.\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,\"Your referral ID: \",/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"text-info\",onClick:function onClick(e){return handleReferralCopy(e);}},\"Click to copy referral link\")))))),/*#__PURE__*/React.createElement(Col,{xs:12,sm:6,xl:4,className:\"mb-4\"},/*#__PURE__*/React.createElement(CounterWidget,{category:\"Current Plan\",title:\"Gold\",period:\"Feb 1 - Apr 1\",percentage:18.2,icon:faChartLine,iconColor:\"shape-secondary\"})),/*#__PURE__*/React.createElement(Col,{xs:12,sm:6,xl:4,className:\"mb-4\"},/*#__PURE__*/React.createElement(CounterWidget,{category:\"Investment Earnings\",title:\"$43,594\",period:\"Feb 1 - Apr 1\",percentage:28.4,icon:faCashRegister,iconColor:\"shape-tertiary\"})),/*#__PURE__*/React.createElement(Col,{xs:12,sm:6,xl:4,className:\"mb-4\"},/*#__PURE__*/React.createElement(CounterWidget,{category:\"Referrals Earnings\",title:\"$43,594\",period:\"Feb 1 - Apr 1\",percentage:28.4,icon:faCashRegister,iconColor:\"shape-tertiary\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:12,xl:12,className:\"mb-4 \",id:\"trading-view\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tradingview-widget-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tradingview-widget-container__widget\"})))));});","map":{"version":3,"sources":["C:/Users/HP/Documents/code/Digital Switch/AAM-Templates/aam-volt/src/pages/dashboard/DashboardOverview.js"],"names":["React","useEffect","useState","useContext","Link","FontAwesomeIcon","faCashRegister","faChartLine","faCloudUploadAlt","faPlus","faRocket","faTasks","faUserShield","CounterWidget","CircleChartWidget","BarChartWidget","TeamMembersWidget","ProgressTrackWidget","RankingWidget","SalesValueWidget","SalesValueWidgetPhone","AcquisitionWidget","Col","Row","Card","UserContext","setAuthToken","axios","require","default","link","setLink","currentInvestment","setCurrentInvestment","profile","setProfile","script","document","createElement","src","async","innerHTML","JSON","stringify","getElementById","appendChild","token","localStorage","getItem","fetchCurrentInvestment","fetchProfile","get","process","env","REACT_APP_SERVER_URL","headers","response","res","data","status","code","console","log","error","handleReferralCopy","e","preventDefault","navigator","clipboard","writeText"],"mappings":"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","sourcesContent":["\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCashRegister, faChartLine, faCloudUploadAlt, faPlus, faRocket, faTasks, faUserShield } from '@fortawesome/free-solid-svg-icons';\nimport { CounterWidget, CircleChartWidget, BarChartWidget, TeamMembersWidget, ProgressTrackWidget, RankingWidget, SalesValueWidget, SalesValueWidgetPhone, AcquisitionWidget } from \"../../components/Widgets\";\nimport { Col, Row, Card} from '@themesberg/react-bootstrap';\nimport { UserContext } from \"../validation/UserContext\"\nimport setAuthToken from \"../validation/authAuthToken\";\nconst axios = require('axios').default;\n\nexport default () => {\n\n  const [link, setLink] = useState(\"\")\n  const [currentInvestment, setCurrentInvestment] = useState([])\n  const [profile, setProfile] = useState([])\n\n  // let temp = useContext(UserContext)\n\n  // console.log(temp)\n\n  useEffect(() => {\n\n    const script = document.createElement('script');\n    script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-screener.js'\n    script.async = true;\n    script.innerHTML = JSON.stringify({\n      \"width\": \"100%\",\n      \"height\": \"490\",\n      \"defaultColumn\": \"overview\",\n      \"screener_type\": \"crypto_mkt\",\n      \"displayCurrency\": \"USD\",\n      \"colorTheme\": \"light\",\n      \"locale\": \"en\"\n    })\n    document.getElementById(\"trading-view\").appendChild(script);\n  }, [])\n\n  useEffect(() => {\n    let token = localStorage.getItem(\"token\");\n    setAuthToken(token);\n\n    fetchCurrentInvestment(token)\n    fetchProfile(token)\n}, [])\n\n\n\nlet fetchCurrentInvestment = async (token) => {\n\n    try {\n        const response = await axios.get(`${process.env.REACT_APP_SERVER_URL}/api/current-investment`, {\n            headers: {\n                'authorization': `Bearer ${token}`,\n                'Content-Type': 'application/json'\n            }\n        })\n\n        let res = response.data\n\n        if (res.status === true && res.code === 200) {\n            setCurrentInvestment(res.data)\n            console.log(res.data)\n        }\n    } catch (err) {\n        console.error(err);\n    }\n}\nlet fetchProfile = async (token) => {\n\n    try {\n        const response = await axios.get(`${process.env.REACT_APP_SERVER_URL}/api/profile`, {\n            headers: {\n                'authorization': `Bearer ${token}`,\n                'Content-Type': 'application/json'\n            }\n        })\n\n        let res = response.data\n\n        if (res.status === true && res.code === 200) {\n            setProfile(res.data)\n            console.log(res.data)\n        }\n    } catch (err) {\n        console.error(err);\n    }\n}\n\n  let handleReferralCopy = (e) => {\n    e.preventDefault()\n    navigator.clipboard.writeText(link)\n  }\n\n  return (\n    <>\n\n      <Row className=\"justify-content-md-center\">\n\n        <Col xs={12} sm={12} xl={12} className=\"mb-4\">\n          <Card>\n            <div className=\"card-body\">\n              <div className=\"alert alert-success\">\n                Welcome to Vangaurd Investments - your personal client area.\n              </div>\n              <div>\n                <span>\n                  Your referral ID: <Link to=\"#\" className=\"text-info\" onClick={e => handleReferralCopy(e)}>Click to copy referral link</Link>\n                  \n                </span>\n              </div>\n            </div>\n          </Card>\n\n        </Col>\n\n        <Col xs={12} sm={6} xl={4} className=\"mb-4\">\n          <CounterWidget\n            category=\"Current Plan\"\n            title=\"Gold\"\n            period=\"Feb 1 - Apr 1\"\n            percentage={18.2}\n            icon={faChartLine}\n            iconColor=\"shape-secondary\"\n          />\n        </Col>\n\n        <Col xs={12} sm={6} xl={4} className=\"mb-4\">\n          <CounterWidget\n            category=\"Investment Earnings\"\n            title=\"$43,594\"\n            period=\"Feb 1 - Apr 1\"\n            percentage={28.4}\n            icon={faCashRegister}\n            iconColor=\"shape-tertiary\"\n          />\n        </Col>\n        <Col xs={12} sm={6} xl={4} className=\"mb-4\">\n          <CounterWidget\n            category=\"Referrals Earnings\"\n            title=\"$43,594\"\n            period=\"Feb 1 - Apr 1\"\n            percentage={28.4}\n            icon={faCashRegister}\n            iconColor=\"shape-tertiary\"\n          />\n        </Col>\n\n      </Row>\n\n      <Row>\n        <Col xs={12} xl={12} className=\"mb-4 \" id=\"trading-view\">\n          <div className=\"tradingview-widget-container\">\n            <div className=\"tradingview-widget-container__widget\"></div>\n          </div>\n        </Col>\n      </Row>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}